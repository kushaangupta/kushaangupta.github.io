email="gkushaan@rediffmail.com",pos=Array.from(Array(email.length),(e,a)=>a+1),emailCharacters=email.split(""),pairedEmailCharactersPos=pos.map(e=>[e,emailCharacters[e-1]]),shuffle(pairedEmailCharactersPos),shuffledPos=pairedEmailCharactersPos.map(e=>e[0]),shuffledCharacters=pairedEmailCharactersPos.map(e=>e[1]),shuffledEmail=shuffledCharacters.join(""),emailElement=document.getElementById("email"),emailElement.prepend(document.createTextNode(shuffledEmail));const displayInfo=e=>emailElement.innerHTML=e,popmax=200,mutationRate=.01;let interval,population=[],idx=0,worldRecord=0;const gaStep=()=>{let e=[];for(let a=0;a<population.length;a++){let l=Math.floor(100*population[a].fitness);for(let t=0;t<l;t++)e.push(population[a])}for(let a=0;a<population.length;a++){let l=_randn(e.length),t=_randn(e.length),o=e[l],i=e[t],r=o.crossover(i);r.mutate(mutationRate),population[a]=r,population[a].calcFitness(email)}population.forEach((e,a)=>{e.fitness>worldRecord&&([idx,worldRecord]=[a,e.fitness])}),best=population[idx].getPhrase,1===worldRecord&&clearInterval(interval),displayInfo(best)},initAnimatedGA=()=>{for(let e=0;e<popmax;e++)population.push(new DNA(email.length));population.forEach(e=>e.calcFitness(email)),interval=setInterval(gaStep,0)};emailScramble=new ScrambledString(document.getElementById("email"),"emailScramble",shuffledEmail,shuffledPos);